# ğŸ“– Compeq Git Server ä½¿ç”¨èªªæ˜

---

**ğŸ¢ è¯é€šé›»è…¦ Zéƒ¨é–€ Git ç¨‹å¼ç¢¼å€‰åº«ç®¡ç†ç³»çµ±**
ğŸ“§ æ”¯æ´ï¼š[shawnliu@compeq.com.tw](mailto:shawnliu@compeq.com.tw)
ğŸŒ ç³»çµ±åœ°å€ï¼š[http://10.1.230.110:3000](http://10.1.230.110:3000)

---

## ğŸ“‹ ç›®éŒ„

- [ğŸ” ç™»å…¥ç³»çµ±](#ç™»å…¥ç³»çµ±)
- [ğŸ“ å»ºç«‹å€‰åº«](#å»ºç«‹å€‰åº«)
- [ğŸ’» VSCode UI æ“ä½œæŒ‡å—](#vscode-ui-æ“ä½œæŒ‡å—)
- [ğŸŒ¿ Git åŸºæœ¬æ“ä½œ](#git-åŸºæœ¬æ“ä½œ)
- [ğŸ”‘ SSH é‡‘é‘°é…ç½®](#ssh-é‡‘é‘°é…ç½®)
- [ğŸ‘¥ åœ˜éšŠå”ä½œ](#åœ˜éšŠå”ä½œ)
- [ğŸ“Š CI/CD æ•´åˆ](#cicd-æ•´åˆ)
- [â“ å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)

ğŸ”„ æ­¤æ•™å­¸æ–‡æª”æœƒæŒçºŒæ›´æ–°ï¼Œæœ‰ç›¸é—œå•é¡Œæ­¡è¿æŒ‡æ•™ã€‚

## ğŸ” ç™»å…¥ç³»çµ±

### é¦–æ¬¡ç™»å…¥

1. è¨ªå• [http://10.1.230.110:3000](http://10.1.230.110:3000)
2. é»æ“Šå³ä¸Šè§’ **ã€Œç™»å…¥ã€** æŒ‰éˆ•
3. ä½¿ç”¨æ‚¨çš„å¸³è™Ÿ(ä¸æ˜¯email) & å¯†ç¢¼ç™»å…¥
4. å°šæœªè¨»å†Šå¸³è™Ÿçš„è«‹ç›´æ¥ç™»å…¥ADå¸³è™Ÿ

## ğŸ“ å»ºç«‹å€‰åº«

### å»ºç«‹æ–°å€‰åº«

1. ç™»å…¥å¾Œé»æ“Šå³ä¸Šè§’ **ã€Œ+ã€** æŒ‰éˆ•
2. é¸æ“‡ **ã€Œæ–°å»ºå€‰åº«ã€**
3. å¡«å¯«å€‰åº«è³‡è¨Šï¼š
   - **å€‰åº«åç¨±**ï¼šä½¿ç”¨å°å¯«è‹±æ–‡å’Œé€£å­—ç¬¦
   - **æè¿°**ï¼šç°¡çŸ­æè¿°å°ˆæ¡ˆç”¨é€”
   - **å¯è¦‹æ€§**ï¼šé¸æ“‡å…¬é–‹æˆ–ç§æœ‰
4. é»æ“Š **ã€Œå»ºç«‹å€‰åº«ã€**

### å€‰åº«å‘½åè¦ç¯„

> âœ… **æœ€ä½³å¯¦è¸**
> - ä½¿ç”¨å°å¯«è‹±æ–‡å­—æ¯
> - ä½¿ç”¨é€£å­—ç¬¦ `-` åˆ†éš”å–®è©
> - é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦
> - ğŸ“ ç¯„ä¾‹ï¼š`project-name`ã€`web-frontend`ã€`api-server`

## ğŸ’» VSCode UI æ“ä½œæŒ‡å—

å°æ–¼ä¸ç†Ÿæ‚‰å‘½ä»¤åˆ—æ“ä½œçš„ä½¿ç”¨è€…ï¼ŒVSCode æä¾›äº†ç›´è§€çš„åœ–å½¢åŒ–ç•Œé¢ä¾†é€²è¡Œ Git æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ VSCode UI é€²è¡Œå¸¸è¦‹ Git æ“ä½œçš„æ­¥é©Ÿèªªæ˜ã€‚

### ğŸ“ æäº¤è®Šæ›´ (Add & Commit)

ç•¶æ‚¨ä¿®æ”¹äº†æª”æ¡ˆå¾Œï¼Œå¯ä»¥é€é VSCode çš„ Source Control é¢æ¿è¼•é¬†æäº¤è®Šæ›´ï¼š

> ğŸ’¡ **æ“ä½œæ­¥é©Ÿï¼š**
> 1. é»æ“Šå·¦å´æ´»å‹•åˆ—çš„ **Source Control** åœ–ç¤ºï¼ˆæˆ–æŒ‰ `Ctrl+Shift+G`ï¼‰
> 2. åœ¨ **Changes** å€åŸŸä¸­ï¼Œæ‚¨æœƒçœ‹åˆ°æ‰€æœ‰ä¿®æ”¹éçš„æª”æ¡ˆ
> 3. é»æ“Šæª”æ¡ˆæ—çš„ **ã€Œ+ã€** æŒ‰éˆ•å°‡æª”æ¡ˆåŠ å…¥æš«å­˜å€ï¼ˆStageï¼‰
> 4. æˆ–é»æ“Š **Changes** æ¨™é¡Œæ—çš„ **ã€Œ+ã€** æŒ‰éˆ•ä¸€æ¬¡æš«å­˜æ‰€æœ‰è®Šæ›´
> 5. åœ¨ä¸Šæ–¹çš„è¨Šæ¯æ¡†ä¸­è¼¸å…¥æäº¤è¨Šæ¯
> 6. é»æ“Š **ã€Œâœ“ Commitã€** æŒ‰éˆ•å®Œæˆæäº¤

![VSCode Add & Commit æ“ä½œç¤ºæ„åœ–](img/add-commit.png)
*â–² VSCode Source Control é¢æ¿ä¸­çš„ Add & Commit æ“ä½œ*

### ğŸš€ æ¨é€åˆ°é ç«¯å€‰åº« (Push)

æäº¤è®Šæ›´å¾Œï¼Œéœ€è¦å°‡æœ¬åœ°çš„æäº¤æ¨é€åˆ°é ç«¯å€‰åº«ï¼š

> ğŸ’¡ **æ“ä½œæ­¥é©Ÿï¼š**
> 1. å®Œæˆ Commit å¾Œï¼Œæ‚¨æœƒåœ¨ Source Control é¢æ¿çœ‹åˆ°å¾…æ¨é€çš„æäº¤
> 2. é»æ“Š **ã€ŒSync Changesã€** æŒ‰éˆ•ï¼ˆé›²æœµåœ–ç¤ºï¼‰
> 3. æˆ–é»æ“Š **ã€ŒPushã€** æŒ‰éˆ•ï¼ˆå‘ä¸Šç®­é ­åœ–ç¤ºï¼‰
> 4. å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¨é€æ–°åˆ†æ”¯ï¼ŒVSCode æœƒè©¢å•æ˜¯å¦è¦ç™¼å¸ƒåˆ†æ”¯åˆ°é ç«¯
> 5. ç¢ºèªå¾Œï¼Œè®Šæ›´å°±æœƒæ¨é€åˆ° Gitea ä¼ºæœå™¨

![VSCode Push æ“ä½œç¤ºæ„åœ–](img/push.png)
*â–² VSCode ä¸­çš„ Push æ“ä½œæŒ‰éˆ•ä½ç½®*

### ğŸ”„ å…¶ä»–å¸¸ç”¨ UI æ“ä½œ

> âœ… **å¯¦ç”¨åŠŸèƒ½**
> - **æª¢è¦–è®Šæ›´**ï¼šé»æ“Šæª”æ¡ˆåç¨±å¯ä»¥æŸ¥çœ‹å…·é«”çš„è®Šæ›´å…§å®¹
> - **æ’¤éŠ·è®Šæ›´**ï¼šé»æ“Šæª”æ¡ˆæ—çš„ **ã€Œâ†¶ã€** æŒ‰éˆ•å¯ä»¥æ’¤éŠ·æœªæš«å­˜çš„è®Šæ›´
> - **åˆ†æ”¯åˆ‡æ›**ï¼šé»æ“Šå·¦ä¸‹è§’çš„åˆ†æ”¯åç¨±å¯ä»¥åˆ‡æ›æˆ–å»ºç«‹æ–°åˆ†æ”¯
> - **æ‹‰å–æ›´æ–°**ï¼šé»æ“Š **ã€ŒPullã€** æŒ‰éˆ•ï¼ˆå‘ä¸‹ç®­é ­ï¼‰å¯ä»¥æ‹‰å–é ç«¯çš„æœ€æ–°è®Šæ›´
> - **æŸ¥çœ‹æ­·å²**ï¼šä½¿ç”¨ `Ctrl+Shift+P` é–‹å•Ÿå‘½ä»¤é¢æ¿ï¼Œæœå°‹ "Git: View History" æŸ¥çœ‹æäº¤æ­·å²

> âš ï¸ **æ³¨æ„äº‹é …ï¼š**
> - é¦–æ¬¡ä½¿ç”¨æ™‚ï¼ŒVSCode å¯èƒ½æœƒè¦æ±‚æ‚¨è¨­å®š Git ä½¿ç”¨è€…åç¨±å’Œé›»å­éƒµä»¶
> - å¦‚æœé‡åˆ°èªè­‰å•é¡Œï¼Œè«‹ç¢ºèªå·²æ­£ç¢ºè¨­å®š Git èªè­‰æˆ– SSH é‡‘é‘°
> - å»ºè­°åœ¨æ¨é€å‰å…ˆæ‹‰å–æœ€æ–°çš„é ç«¯è®Šæ›´ï¼Œé¿å…è¡çª
> - å°æ–¼é‡è¦çš„è®Šæ›´ï¼Œå»ºè­°é€é Pull Request æµç¨‹é€²è¡Œç¨‹å¼ç¢¼å¯©æŸ¥

## ğŸŒ¿ Git åŸºæœ¬æ“ä½œ

### å…‹éš†å€‰åº«

```bash
# HTTPS æ–¹å¼ (æ¨è–¦)
git clone http://10.1.230.110:3000/username/repo-name.git

# SSH æ–¹å¼
git clone git@10.1.230.110:2222:username/repo-name.git
```

### åŸºæœ¬å·¥ä½œæµç¨‹

```bash
# 1. å…‹éš†å€‰åº«
git clone <å€‰åº«åœ°å€>
cd <å€‰åº«åç¨±>

# 2. å»ºç«‹åˆ†æ”¯
git checkout -b feature/new-feature

# 3. ä¿®æ”¹ä»£ç¢¼å¾Œæäº¤
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# 4. æ¨é€åˆ°é ç«¯
git push origin feature/new-feature

# 5. åœ¨ç¶²é ä¸Šå»ºç«‹ Pull Request (åˆä½µè«‹æ±‚)
```

## ğŸ”‘ SSH é‡‘é‘°é…ç½®

### ç”Ÿæˆ SSH é‡‘é‘°
```bash
# ç”Ÿæˆæ–°çš„ SSH é‡‘é‘°
ssh-keygen -t ed25519 -C "your.email@compeq.com.tw"

# æŸ¥çœ‹å…¬é‘°å…§å®¹
cat ~/.ssh/id_ed25519.pub
```

### æ·»åŠ  SSH é‡‘é‘°åˆ° Gitea
1. ç™»å…¥ Gitea å¾Œé»æ“Šå³ä¸Šè§’é ­åƒ
2. é¸æ“‡ **ã€Œè¨­å®šã€**
3. å·¦å´é¸å–®é¸æ“‡ **ã€ŒSSH / GPG é‡‘é‘°ã€**
4. é»æ“Š **ã€Œå¢åŠ é‡‘é‘°ã€**
5. è²¼ä¸Šå…¬é‘°å…§å®¹ä¸¦è¨­å®šåç¨±
6. é»æ“Š **ã€Œå¢åŠ é‡‘é‘°ã€**

### æ¸¬è©¦ SSH é€£ç·š
```bash
# æ¸¬è©¦ SSH é€£ç·šï¼ˆæ³¨æ„æ˜¯ 2222 åŸ ï¼‰
ssh -T git@10.1.230.110 -p 2222
```

## ğŸ‘¥ åœ˜éšŠå”ä½œ

### Pull Request æµç¨‹

1. **å»ºç«‹åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature
   ```

2. **é–‹ç™¼ä¸¦æäº¤ (ä¸å»ºè­° push åˆ° main åˆ†æ”¯)**
   ```bash
   git add .
   git commit -m "æè¿°ä½ çš„ä¿®æ”¹"
   git push origin feature/your-feature
   ```

3. **å»ºç«‹ Pull Request (åˆä½µè«‹æ±‚, å»ºè­°ä½¿ç”¨é€™å€‹ä¾†æ¨ä¸Šmainåˆ†æ”¯)**
   - åœ¨ Gitea ç¶²é ä¸Šé»æ“Š **ã€ŒNew Pull Requestã€**
   - å¡«å¯« PR æ¨™é¡Œå’Œæè¿°
   - æŒ‡å®šå¯©æŸ¥è€…
   - æäº¤ PR
   - *è«‹æ³¨æ„ è«‹å…ˆè¨­ç½®å€‰åº«PRçš„è¦å‰‡rulesï¼Œä¾‹å¦‚èª°å¯ä»¥æ ¸å¯? éœ€è¦å¹¾ä½äººå“¡æ ¸å¯?

### æäº¤è¨Šæ¯è¦ç¯„ (åƒ…ä¾›åƒè€ƒ~)

```bash
# æ ¼å¼ï¼š<é¡å‹>: <æè¿°>
feat: æ·»åŠ ç”¨æˆ¶ç™»å…¥åŠŸèƒ½
fix: ä¿®å¾©ç™»å‡ºæ™‚çš„è¨˜æ†¶é«”æ´©éœ²
docs: æ›´æ–° API æ–‡æª”
style: ä¿®æ­£ä»£ç¢¼æ ¼å¼
refactor: é‡æ§‹ç”¨æˆ¶æœå‹™æ¨¡çµ„
test: æ·»åŠ å–®å…ƒæ¸¬è©¦
chore: æ›´æ–°ä¾è³´å¥—ä»¶
```

## ğŸ“Š CI/CD æ•´åˆ

æœ¬ç³»çµ±CICDæµç¨‹ä½¿ç”¨æµè¡Œçš„Github Actions çš„æœ¬åœ°ç‰ˆæœ¬ï¼Œæ”¯æ´è‡ªå‹•åŒ– Build å’Œéƒ¨ç½²ã€‚

### é…ç½® CI/CD

1. åœ¨å€‰åº«æ ¹ç›®éŒ„å»ºç«‹ `.gitea/workflows/name.yaml` æ–‡ä»¶
2. é…ç½®æ§‹å»ºæ­¥é©Ÿ (ç¯„ä¾‹)ï¼š
   ```yaml
   name: Run CI on test_branch

   on:
     push:
       branches:
         - test_branch

   jobs:
     build:
       runs-on: ubuntu-latest
       steps:
         - name: Check out code
           uses: actions/checkout@v4

         - name: Run a test script
           run: echo "âœ… Running on test_branch!"
   ```
3. æ¨é€ä»£ç¢¼(git push or PR merge)å¾Œè‡ªå‹•è§¸ç™¼ CI/CD

### æŸ¥çœ‹æ§‹å»ºç‹€æ…‹

- åœ¨å€‰åº«é é¢é»æ“Šä¸Šæ–¹ Actions åˆ†é 
- æŸ¥çœ‹è©³ç´° CICD æ—¥èªŒ

## â“ å¸¸è¦‹å•é¡Œ

### Q: ç„¡æ³•æ¨é€ä»£ç¢¼ï¼Ÿ å¦‚é‡åˆ° fatal: Authentication failed

> âš ï¸ **è§£æ±ºæ–¹æ¡ˆï¼š** æª¢æŸ¥ä»¥ä¸‹é …ç›®ï¼š
> - å¾ˆå¤šæ™‚å€™ç›´æ¥pushç¬¬äºŒæ¬¡ï¼Œå°±å¯ä»¥è§£æ±º Auth å•é¡Œ
> - ç¢ºèªæœ‰æ¨é€æ¬Šé™
> - æª¢æŸ¥åˆ†æ”¯ä¿è­·è¦å‰‡
> - é©—è­‰ SSH é‡‘é‘°é…ç½®
> - ç¢ºèªæ²’æœ‰å¤§æª”æ¡ˆï¼ˆ>100MBï¼‰

### Q: å¿˜è¨˜å¯†ç¢¼æ€éº¼è¾¦ï¼Ÿ

> ğŸ’¡ **ç­”æ¡ˆï¼š** é€™æ˜¯ADå¸³è™Ÿèˆ‡ADå¯†ç¢¼ï¼Œè«‹è¯çµ¡å…¬å¸ADå¯†ç¢¼é‡è¨­ç®¡ç†å“¡

### Q: å¦‚ä½•åˆªé™¤å€‰åº«ï¼Ÿ

> âš ï¸ **æ“ä½œæ­¥é©Ÿï¼š**
> 1. é€²å…¥å€‰åº«è¨­å®š
> 2. æ»¾å‹•åˆ°æœ€ä¸‹æ–¹
> 3. é»æ“Š **ã€Œåˆªé™¤æ­¤å€‰åº«ã€**
> 4. è¼¸å…¥å€‰åº«åç¨±ç¢ºèª

### Q: å¤§æª”æ¡ˆå¦‚ä½•è™•ç†ï¼Ÿ

> ğŸ’¡ **ä½¿ç”¨ Git LFSï¼š**
> ```bash
> # å®‰è£ Git LFS
> git lfs install
>
> # è¿½è¹¤å¤§æª”æ¡ˆ
> git lfs track "*.psd"
> git add .gitattributes
> ```

## ğŸ†˜ æŠ€è¡“æ”¯æ´

---

### è¯çµ¡è³‡è¨Š

ğŸ“§ **Email**: [shawnliu@compeq.com.tw](mailto:shawnliu@compeq.com.tw)

[ğŸŒ è¿”å› Git ç³»çµ±](http://10.1.230.110:3000)

---

**ğŸ’¡ æç¤ºï¼š** æ­¤æ–‡æª”æœƒå®šæœŸæ›´æ–°ã€‚å¦‚æœ‰å»ºè­°æˆ–å•é¡Œï¼Œæ­¡è¿å›é¥‹çµ¦ç®¡ç†å“¡ã€‚